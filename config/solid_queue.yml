# Solid Queue Configuration
#
# Queue priority (highest to lowest):
#   1. sync      - Sync orchestration, Negentropy, polling (must run promptly)
#   2. events    - Event processing (can be delayed behind sync jobs)
#   3. deletions - NIP-09 deletion processing (lower priority than events)
#   4. uploads   - Uploading to relays (lowest priority)

default: &default
  dispatchers:
    - polling_interval: 1
      batch_size: 500
  workers:
    - queues: [sync, events, deletions, uploads]
      threads: 3
      processes: 1
      polling_interval: 0.1

development:
  <<: *default

test:
  <<: *default

production:
  <<: *default
  workers:
    - queues: [sync, events, deletions, uploads]
      threads: 5
      processes: 2
      polling_interval: 0.1
